<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Integrated Marketing Analytics Dashboard</title>

    <!-- Scripts & Fonts -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

    <style type="text/tailwindcss">
        :root {
            --channel-tv: #60A5FA;
            --channel-print: #F59E0B;
            --channel-digital: #34D399;
            --channel-social: #A78BFA;
            --channel-radio: #F87171;
            --channel-ooh: #F472B6;
        }
    </style>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#428bf0",
                        "background-light": "#F8FAFC",
                        "background-dark": "#0F172A",
                        "card-light": "#FFFFFF",
                        "card-dark": "#1E293B",
                        "text-light": "#111827",
                        "text-dark": "#E5E7EB",
                        "border-light": "#E2E8F0",
                        "border-dark": "#374151",
                        "subtle-text-light": "#64748B",
                        "subtle-text-dark": "#94A3B8"
                    },
                    fontFamily: {
                        "display": ["Inter", "Roboto", "sans-serif"]
                    },
                    borderRadius: { "DEFAULT": "0.5rem", "lg": "0.75rem", "xl": "1rem", "full": "9999px" },
                    boxShadow: {
                        'sm': '0 1px 2px 0 rgb(0 0 0 / 0.05)',
                        'DEFAULT': '0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)',
                        'md': '0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)',
                        'lg': '0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.6s ease-in-out',
                        'slide-up': 'slideUp 0.5s ease-out',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                },
            },
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #428bf0 0%, #6366f1 50%, #8b5cf6 100%);
        }
        
        .metric-card {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }
        
        .dark .metric-card {
            background: linear-gradient(145deg, #1e293b 0%, #334155 100%);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
        }
        
        .metric-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .chart-container {
            background: linear-gradient(145deg, #ffffff 0%, #f1f5f9 100%);
            border: 1px solid rgba(226, 232, 240, 0.5);
        }
        
        .dark .chart-container {
            background: linear-gradient(145deg, #1e293b 0%, #0f172a 100%);
            border: 1px solid rgba(55, 65, 81, 0.5);
        }
        
        .performance-segment {
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%);
            border-left: 4px solid #6366f1;
        }
        
        .dark .performance-segment {
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark">
    <div class="flex h-screen overflow-hidden">
        <!-- Sidebar -->
        <aside class="flex w-64 flex-col border-r border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-4">
             <div class="flex-shrink-0">
                <div class="flex items-center gap-3">
                    <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAe1DuBqgz-Dwzu6hPDQwfhWeHZnB0RG99sLofEPVPjidVTASZwxNy87zjeElIoFK2VzO-xiNqmgJZAmGOs9CtRkTZdk_XDLwJLPh9a6Ayhd1Ny_NPNoj0XZy6Xu99spoMz4rnkc4yHWeB-buhibpyow8DSctTZYGnXOm6_AHW8lGiOxZkvquZnETyzcK92b_gsspxWUF4VEIjw3OTNAjOP-WtJCvHysrmTLslbIKYB_LDHTd21IFECqk2W6OOPncmPq3VYTrHDrWY");'></div>
                    <div class="flex flex-col">
                        <h1 class="text-text-light dark:text-text-dark text-base font-bold leading-normal">Marketing Co.</h1>
                        <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-normal leading-normal">Workspace</p>
                    </div>
                </div>
                <nav class="mt-8 flex flex-col gap-2">
                    <a class="flex items-center gap-3 px-3 py-2 rounded-lg bg-primary/10 dark:bg-primary/20 text-primary" href="index.html"><span class="material-symbols-outlined">dashboard</span><p class="text-sm font-medium leading-normal">Dashboard</p></a>
                    <a class="flex items-center gap-3 px-3 py-2 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg" href="campaign.html"><span class="material-symbols-outlined">campaign</span><p class="text-sm font-medium leading-normal">Campaigns</p></a>
                    <a class="flex items-center gap-3 px-3 py-2 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg" href="audience.html"><span class="material-symbols-outlined">groups</span><p class="text-sm font-medium leading-normal">Audience</p></a>
                    <a class="flex items-center gap-3 px-3 py-2 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg" href="reports.html"><span class="material-symbols-outlined">lab_profile</span><p class="text-sm font-medium leading-normal">Reports</p></a>
                </nav>
            </div>
            <div class="mt-auto flex flex-col gap-2">
                <a class="flex items-center gap-3 px-3 py-2 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg" href="#"><span class="material-symbols-outlined">settings</span><p class="text-sm font-medium leading-normal">Settings</p></a>
                <a class="flex items-center gap-3 px-3 py-2 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg" href="#"><span class="material-symbols-outlined">help</span><p class="text-sm font-medium leading-normal">Support</p></a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto">
            <div class="p-6 lg:p-8 space-y-8 animate-fade-in">
                <!-- Enhanced Header -->
                <div class="gradient-bg rounded-2xl p-8 text-white relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-32 translate-x-32"></div>
                    <div class="absolute bottom-0 left-0 w-48 h-48 bg-white/10 rounded-full translate-y-24 -translate-x-24"></div>
                    <div class="relative z-10">
                        <div class="flex flex-wrap items-center justify-between gap-4">
                            <div class="flex flex-col gap-3">
                                <h1 class="text-4xl font-bold leading-tight tracking-tight">Integrated Marketing Analytics</h1>
                                <p class="text-white/90 text-lg font-normal leading-relaxed">Comprehensive insights into your marketing performance across all channels</p>
                                <div class="flex items-center gap-6 text-white/80">
                                    <div class="flex items-center gap-2">
                                        <span class="material-symbols-outlined text-lg">analytics</span>
                                        <span class="text-sm font-medium">Real-time Analytics</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="material-symbols-outlined text-lg">trending_up</span>
                                        <span class="text-sm font-medium">+15.3% Growth This Month</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="material-symbols-outlined text-lg">people</span>
                                        <span class="text-sm font-medium">82.3K Active Users</span>
                                    </div>
                                </div>
                            </div>
                            <div class="flex items-center gap-3">
                                <button id="theme-toggle" class="flex items-center justify-center gap-2 rounded-lg h-10 px-4 bg-white/20 text-white border border-white/30 text-sm font-medium leading-normal hover:bg-white/30 backdrop-blur-sm">
                                    <span id="theme-icon" class="material-symbols-outlined text-base">light_mode</span>
                                    <span id="theme-text">Light</span>
                                </button>
                                <button id="share-btn" class="flex items-center justify-center gap-2 rounded-lg h-10 px-4 bg-white/20 text-white border border-white/30 text-sm font-medium leading-normal hover:bg-white/30 backdrop-blur-sm"><span class="material-symbols-outlined text-base">ios_share</span><span>Share</span></button>
                                <button id="export-btn" class="flex items-center justify-center gap-2 rounded-lg h-10 px-4 bg-white text-primary text-sm font-medium leading-normal hover:bg-gray-100 shadow-sm"><span class="material-symbols-outlined text-base">download</span><span>Export</span></button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Filters Section -->
                <div class="chart-container rounded-2xl border border-border-light dark:border-border-dark p-6 shadow-sm">
                    <div class="flex flex-wrap items-center justify-between gap-4 mb-4">
                        <div>
                            <h3 class="text-lg font-semibold text-text-light dark:text-text-dark">Dashboard Filters</h3>
                            <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark">Customize your analytics view</p>
                        </div>
                        <div class="flex items-center gap-2">
                            <button id="reset-filters" class="flex items-center gap-2 rounded-lg bg-gray-200 dark:bg-gray-700 px-3 py-2 text-sm font-medium text-gray-800 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
                                <span class="material-symbols-outlined text-sm">refresh</span>
                                Reset
                            </button>
                            <span class="material-symbols-outlined text-primary text-xl">tune</span>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                        <!-- Date Filter -->
                        <div class="relative filter-dropdown" data-filter="date">
                            <button class="filter-btn flex w-full h-12 items-center justify-between gap-x-3 rounded-xl bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                                <div class="flex items-center gap-x-3">
                                    <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
                                        <span class="material-symbols-outlined text-white text-sm">calendar_today</span>
                                    </div>
                                    <p class="text-text-light dark:text-text-dark text-sm font-semibold filter-text">Last 30 Days</p>
                                </div>
                                <span class="material-symbols-outlined text-lg text-subtle-text-light dark:text-subtle-text-dark">expand_more</span>
                            </button>
                            <div class="dropdown-menu absolute top-full left-0 right-0 mt-2 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-xl shadow-lg z-[9999] hidden">
                                <div class="p-2">
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Last 7 Days">Last 7 Days</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Last 30 Days">Last 30 Days</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="This Month">This Month</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Last Month">Last Month</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Custom Range">Custom Range</button>
                                </div>
                            </div>
                        </div>

                        <!-- Channel Filter -->
                        <div class="relative filter-dropdown" data-filter="channel">
                            <button class="filter-btn flex w-full h-12 items-center justify-between gap-x-3 rounded-xl bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                                <div class="flex items-center gap-x-3">
                                    <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center">
                                        <span class="material-symbols-outlined text-white text-sm">tune</span>
                                    </div>
                                    <p class="text-text-light dark:text-text-dark text-sm font-semibold filter-text">All Channels</p>
                                </div>
                                <span class="material-symbols-outlined text-lg text-subtle-text-light dark:text-subtle-text-dark">expand_more</span>
                            </button>
                            <div class="dropdown-menu absolute top-full left-0 right-0 mt-2 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-xl shadow-lg z-[9999] hidden">
                                <div class="p-2">
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="All Channels">All Channels</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="TV">TV</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Print">Print</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Digital">Digital</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Social">Social</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Radio">Radio</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="OOH">OOH</button>
                                </div>
                            </div>
                        </div>

                        <!-- Campaign Filter -->
                        <div class="relative filter-dropdown" data-filter="campaign">
                            <button class="filter-btn flex w-full h-12 items-center justify-between gap-x-3 rounded-xl bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                                <div class="flex items-center gap-x-3">
                                    <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center">
                                        <span class="material-symbols-outlined text-white text-sm">campaign</span>
                                    </div>
                                    <p class="text-text-light dark:text-text-dark text-sm font-semibold filter-text">All Campaigns</p>
                                </div>
                                <span class="material-symbols-outlined text-lg text-subtle-text-light dark:text-subtle-text-dark">expand_more</span>
                            </button>
                            <div class="dropdown-menu absolute top-full left-0 right-0 mt-2 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-xl shadow-lg z-[9999] hidden">
                                <div class="p-2">
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="All Campaigns">All Campaigns</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Summer Sale 2024">Summer Sale 2024</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Holiday Push">Holiday Push</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Brand Awareness">Brand Awareness</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Product Launch">Product Launch</button>
                                </div>
                            </div>
                        </div>

                        <!-- Region Filter -->
                        <div class="relative filter-dropdown" data-filter="region">
                            <button class="filter-btn flex w-full h-12 items-center justify-between gap-x-3 rounded-xl bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                                <div class="flex items-center gap-x-3">
                                    <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center">
                                        <span class="material-symbols-outlined text-white text-sm">public</span>
                                    </div>
                                    <p class="text-text-light dark:text-text-dark text-sm font-semibold filter-text">Global</p>
                                </div>
                                <span class="material-symbols-outlined text-lg text-subtle-text-light dark:text-subtle-text-dark">expand_more</span>
                            </button>
                            <div class="dropdown-menu absolute top-full left-0 right-0 mt-2 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-xl shadow-lg z-[9999] hidden">
                                <div class="p-2">
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="All Regions">All Regions</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="North America">North America</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Europe">Europe</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Asia">Asia</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Australia">Australia</button>
                                </div>
                            </div>
                        </div>

                        <!-- Language Filter -->
                        <div class="relative filter-dropdown" data-filter="language">
                            <button class="filter-btn flex w-full h-12 items-center justify-between gap-x-3 rounded-xl bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                                <div class="flex items-center gap-x-3">
                                    <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-blue-600 flex items-center justify-center">
                                        <span class="material-symbols-outlined text-white text-sm">language</span>
                                    </div>
                                    <p class="text-text-light dark:text-text-dark text-sm font-semibold filter-text">English</p>
                                </div>
                                <span class="material-symbols-outlined text-lg text-subtle-text-light dark:text-subtle-text-dark">expand_more</span>
                            </button>
                            <div class="dropdown-menu absolute top-full left-0 right-0 mt-2 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-xl shadow-lg z-[9999] hidden">
                                <div class="p-2">
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="All Languages">All Languages</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="English">English</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Spanish">Spanish</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="French">French</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="German">German</button>
                                </div>
                            </div>
                        </div>

                        <!-- Source Filter -->
                        <div class="relative filter-dropdown" data-filter="source">
                            <button class="filter-btn flex w-full h-12 items-center justify-between gap-x-3 rounded-xl bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                                <div class="flex items-center gap-x-3">
                                    <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center">
                                        <span class="material-symbols-outlined text-white text-sm">share</span>
                                    </div>
                                    <p class="text-text-light dark:text-text-dark text-sm font-semibold filter-text">All Sources</p>
                                </div>
                                <span class="material-symbols-outlined text-lg text-subtle-text-light dark:text-subtle-text-dark">expand_more</span>
                            </button>
                            <div class="dropdown-menu absolute top-full left-0 right-0 mt-2 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-xl shadow-lg z-[9999] hidden">
                                <div class="p-2">
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="All Sources">All Sources</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Google Ads">Google Ads</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Facebook">Facebook</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="Instagram">Instagram</button>
                                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-sm" data-value="LinkedIn">LinkedIn</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced KPI Cards -->
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 animate-slide-up">
                    <div class="metric-card rounded-2xl p-6 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-semibold mb-2">Total Impressions</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-4xl font-black bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">2.8M</p>
                                    <div class="flex items-center gap-1">
                                        <span class="material-symbols-outlined text-green-500 text-sm">trending_up</span>
                                        <p class="text-green-500 text-sm font-bold">+12.4%</p>
                                    </div>
                                </div>
                                <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark mt-1">vs last month</p>
                            </div>
                            <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg">
                                <span class="material-symbols-outlined text-white text-2xl">visibility</span>
                            </div>
                        </div>
                    </div>
                    <div class="metric-card rounded-2xl p-6 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-semibold mb-2">Total Reach</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-4xl font-black bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent">1.9M</p>
                                    <div class="flex items-center gap-1">
                                        <span class="material-symbols-outlined text-green-500 text-sm">trending_up</span>
                                        <p class="text-green-500 text-sm font-bold">+18.7%</p>
                                    </div>
                                </div>
                                <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark mt-1">unique viewers</p>
                            </div>
                            <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center shadow-lg">
                                <span class="material-symbols-outlined text-white text-2xl">people</span>
                            </div>
                        </div>
                    </div>
                    <div class="metric-card rounded-2xl p-6 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-semibold mb-2">Total Spend</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-4xl font-black bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent">$128K</p>
                                    <div class="flex items-center gap-1">
                                        <span class="material-symbols-outlined text-green-500 text-sm">trending_down</span>
                                        <p class="text-green-500 text-sm font-bold">-3.2%</p>
                                    </div>
                                </div>
                                <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark mt-1">optimized spend</p>
                            </div>
                            <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shadow-lg">
                                <span class="material-symbols-outlined text-white text-2xl">paid</span>
                            </div>
                        </div>
                    </div>
                    <div class="metric-card rounded-2xl p-6 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-semibold mb-2">Click Rate</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-4xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">4.7%</p>
                                    <div class="flex items-center gap-1">
                                        <span class="material-symbols-outlined text-green-500 text-sm">trending_up</span>
                                        <p class="text-green-500 text-sm font-bold">+0.9%</p>
                                    </div>
                                </div>
                                <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark mt-1">above industry avg</p>
                            </div>
                            <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center shadow-lg">
                                <span class="material-symbols-outlined text-white text-2xl">touch_app</span>
                            </div>
                        </div>
                    </div>
                    <div class="metric-card rounded-2xl p-6 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-semibold mb-2">Conversions</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-4xl font-black bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent">15.2K</p>
                                    <div class="flex items-center gap-1">
                                        <span class="material-symbols-outlined text-green-500 text-sm">trending_up</span>
                                        <p class="text-green-500 text-sm font-bold">+24.3%</p>
                                    </div>
                                </div>
                                <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark mt-1">high-value leads</p>
                            </div>
                            <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center shadow-lg">
                                <span class="material-symbols-outlined text-white text-2xl">trending_up</span>
                            </div>
                        </div>
                    </div>
                    <div class="metric-card rounded-2xl p-6 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-semibold mb-2">ROI Multiple</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-4xl font-black bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent">5.8x</p>
                                    <div class="flex items-center gap-1">
                                        <span class="material-symbols-outlined text-green-500 text-sm">trending_up</span>
                                        <p class="text-green-500 text-sm font-bold">+1.2x</p>
                                    </div>
                                </div>
                                <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark mt-1">return on investment</p>
                            </div>
                            <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center shadow-lg">
                                <span class="material-symbols-outlined text-white text-2xl">analytics</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Performance Chart Section -->
                <div class="chart-container rounded-2xl p-6 shadow-sm">
                    <div class="flex flex-wrap items-center justify-between gap-4 mb-6">
                        <div>
                            <h3 class="text-xl font-semibold text-text-light dark:text-text-dark">Performance Overview</h3>
                            <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark">Track key metrics across all channels</p>
                        </div>
                        <div class="flex flex-wrap items-center gap-3">
                            <div class="flex items-center gap-2 rounded-lg bg-gray-100 dark:bg-gray-800/60 p-1 text-sm font-medium">
                                <button class="metric-btn rounded-md px-3 py-1 bg-card-light dark:bg-gray-700 text-primary dark:text-white shadow-sm transition-all duration-200" data-metric="impressions">Impressions</button>
                                <button class="metric-btn rounded-md px-3 py-1 hover:bg-gray-200/60 dark:hover:bg-gray-700/60 transition-all duration-200" data-metric="clicks">Clicks</button>
                                <button class="metric-btn rounded-md px-3 py-1 hover:bg-gray-200/60 dark:hover:bg-gray-700/60 transition-all duration-200" data-metric="conversions">Conversions</button>
                                <button class="metric-btn rounded-md px-3 py-1 hover:bg-gray-200/60 dark:hover:bg-gray-700/60 transition-all duration-200" data-metric="spend">Spend</button>
                            </div>
                        </div>
                    </div>
                    <div class="h-80 w-full">
                        <canvas id="performanceOverviewChart"></canvas>
                    </div>
                </div>

                <!-- Multi-Chart Grid -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Content Performance -->
                    <div class="chart-container rounded-2xl p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-lg font-semibold text-text-light dark:text-text-dark">Content Performance</h3>
                                <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark">Channel effectiveness analysis</p>
                            </div>
                            <span class="material-symbols-outlined text-blue-500 text-xl">bar_chart</span>
                        </div>
                        <div class="h-64">
                            <canvas id="contentPerformanceChart"></canvas>
                        </div>
                    </div>

                    <!-- Ad Spend by Media -->
                    <div class="chart-container rounded-2xl p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-lg font-semibold text-text-light dark:text-text-dark">Ad Spend by Media</h3>
                                <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark">Budget allocation across campaigns</p>
                            </div>
                            <span class="material-symbols-outlined text-green-500 text-xl">pie_chart</span>
                        </div>
                        <div class="h-64">
                            <canvas id="adSpendChart"></canvas>
                        </div>
                    </div>

                    <!-- Share of Voice -->
                    <div class="chart-container rounded-2xl p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-lg font-semibold text-text-light dark:text-text-dark">Share of Voice</h3>
                                <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark">Market presence by channel</p>
                            </div>
                            <span class="material-symbols-outlined text-purple-500 text-xl">donut_small</span>
                        </div>
                        <div class="h-64">
                            <canvas id="shareOfVoiceChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Advanced Analytics Section -->
                <div class="grid grid-cols-1 xl:grid-cols-3 gap-6">
                    <!-- Sentiment Analysis -->
                    <div class="xl:col-span-2 chart-container rounded-2xl p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-lg font-semibold text-text-light dark:text-text-dark">Sentiment Analysis Over Time</h3>
                                <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark">Brand perception tracking</p>
                            </div>
                            <span class="material-symbols-outlined text-blue-500 text-xl">sentiment_satisfied</span>
                        </div>
                        <div class="h-80">
                            <canvas id="sentimentAnalysisChart"></canvas>
                        </div>
                    </div>

                    <!-- Genre-wise Viewership -->
                    <div class="chart-container rounded-2xl p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-lg font-semibold text-text-light dark:text-text-dark">Genre-wise Viewership</h3>
                                <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark">Content category performance</p>
                            </div>
                            <span class="material-symbols-outlined text-orange-500 text-xl">category</span>
                        </div>
                        <div class="h-80">
                            <canvas id="genreViewershipChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Performance Analytics Grid -->
                <div class="grid grid-cols-1 xl:grid-cols-3 gap-6">
                    <!-- Ad Performance -->
                    <div class="xl:col-span-2 chart-container rounded-2xl p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-lg font-semibold text-text-light dark:text-text-dark">Ad Performance Analysis</h3>
                                <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark">Cost vs. Reach vs. ROI correlation</p>
                            </div>
                            <span class="material-symbols-outlined text-green-500 text-xl">scatter_plot</span>
                        </div>
                        <div class="h-80">
                            <canvas id="adPerformanceChart"></canvas>
                        </div>
                    </div>

                    <!-- Predictive Campaign Impact -->
                    <div class="chart-container rounded-2xl p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-lg font-semibold text-text-light dark:text-text-dark">Predictive Impact</h3>
                                <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark">Forecasted vs. actual performance</p>
                            </div>
                            <span class="material-symbols-outlined text-red-500 text-xl">trending_up</span>
                        </div>
                        <div class="h-80">
                            <canvas id="predictiveModelingChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Audience Demographics -->
                <div class="chart-container rounded-2xl p-6 shadow-sm">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h3 class="text-lg font-semibold text-text-light dark:text-text-dark">Audience Demographics</h3>
                            <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark">Age and gender distribution analysis</p>
                        </div>
                        <span class="material-symbols-outlined text-purple-500 text-xl">group</span>
                    </div>
                    <div class="h-72">
                        <canvas id="audienceDemographicsChart"></canvas>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Apply theme immediately to prevent flash
        const savedTheme = localStorage.getItem('theme') || 'dark';
        document.documentElement.classList.toggle('dark', savedTheme === 'dark');
        
        document.addEventListener('DOMContentLoaded', function() {
            // --- THEME TOGGLE ---
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');
            const themeText = document.getElementById('theme-text');
            
            function updateThemeUI() {
                const isDark = document.documentElement.classList.contains('dark');
                themeIcon.textContent = isDark ? 'light_mode' : 'dark_mode';
                themeText.textContent = isDark ? 'Light' : 'Dark';
            }
            
            themeToggle.addEventListener('click', function() {
                const isDark = document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
                updateThemeUI();
            });

            // --- CHART SETUP ---
            const isDarkMode = document.documentElement.classList.contains('dark');
            const gridColor = isDarkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.05)';
            const tickColor = isDarkMode ? '#94A3B8' : '#64748B';

            Chart.defaults.font.family = 'Inter';
            Chart.defaults.color = tickColor;

            const channelColors = {
                tv: '#60A5FA', print: '#F59E0B', digital: '#34D399',
                social: '#A78BFA', radio: '#F87171', ooh: '#F472B6'
            };

            // --- ENHANCED PERFORMANCE OVERVIEW CHART ---
            const performanceCtx = document.getElementById('performanceOverviewChart').getContext('2d');
            new Chart(performanceCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                    datasets: [{
                        label: 'Impressions (M)',
                        data: [2.1, 2.4, 2.8, 3.2, 3.6, 4.1, 4.7, 5.2, 5.8, 6.4],
                        borderColor: '#428bf0',
                        backgroundColor: 'rgba(66, 139, 240, 0.15)',
                        tension: 0.4,
                        fill: true,
                        pointBackgroundColor: '#428bf0',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 3,
                        pointRadius: 6,
                        borderWidth: 3
                    }, {
                        label: 'Clicks (K)',
                        data: [45, 52, 61, 73, 86, 102, 118, 135, 152, 172],
                        borderColor: '#34D399',
                        backgroundColor: 'rgba(52, 211, 153, 0.15)',
                        tension: 0.4,
                        fill: true,
                        pointBackgroundColor: '#34D399',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 3,
                        pointRadius: 6,
                        borderWidth: 3
                    }, {
                        label: 'Conversions',
                        data: [3200, 3800, 4500, 5300, 6200, 7400, 8900, 10400, 12100, 14200],
                        borderColor: '#F59E0B',
                        backgroundColor: 'rgba(245, 158, 11, 0.15)',
                        tension: 0.4,
                        fill: true,
                        pointBackgroundColor: '#F59E0B',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 3,
                        pointRadius: 6,
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                pointStyle: 'circle',
                                padding: 25,
                                font: {
                                    size: 13,
                                    weight: '600'
                                }
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#fff',
                            bodyColor: '#fff',
                            borderColor: '#374151',
                            borderWidth: 1,
                            cornerRadius: 8,
                            displayColors: true,
                            callbacks: {
                                title: function(context) {
                                    return context[0].label + ' 2024';
                                },
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        if (context.dataset.label.includes('Impressions')) {
                                            label += context.parsed.y.toFixed(1) + 'M';
                                        } else if (context.dataset.label.includes('Clicks')) {
                                            label += context.parsed.y + 'K';
                                        } else {
                                            label += context.parsed.y.toLocaleString();
                                        }
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: {
                                color: tickColor,
                                font: {
                                    size: 12,
                                    weight: '500'
                                }
                            }
                        },
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: gridColor,
                                borderDash: [2, 2]
                            },
                            ticks: {
                                color: tickColor,
                                font: {
                                    size: 12,
                                    weight: '500'
                                },
                                callback: function(value) {
                                    if (value >= 1000000) {
                                        return (value / 1000000).toFixed(1) + 'M';
                                    } else if (value >= 1000) {
                                        return (value / 1000).toFixed(0) + 'K';
                                    }
                                    return value;
                                }
                            }
                        }
                    },
                    interaction: {
                        mode: 'nearest',
                        axis: 'x',
                        intersect: false
                    }
                }
            });

            // --- CONTENT PERFORMANCE CHART ---
            const contentCtx = document.getElementById('contentPerformanceChart').getContext('2d');
            new Chart(contentCtx, {
                type: 'bar',
                data: {
                    labels: ['TV', 'Print', 'Digital', 'Social', 'Radio', 'OOH'],
                    datasets: [{
                        label: 'Performance Score',
                        data: [90, 30, 75, 50, 20, 40],
                        backgroundColor: Object.values(channelColors),
                        borderRadius: 4,
                        borderWidth: 0,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { beginAtZero: true, grid: { color: gridColor }, ticks: { color: tickColor, precision: 0 } },
                        x: { grid: { display: false }, ticks: { color: tickColor } }
                    }
                }
            });

            // --- AD SPEND CHART ---
            const adSpendCtx = document.getElementById('adSpendChart').getContext('2d');
            new Chart(adSpendCtx, {
                type: 'bar',
                data: {
                    labels: ['Campaign A', 'Campaign B', 'Campaign C', 'Campaign D'],
                    datasets: [
                        { label: 'TV', data: [15, 20, 25, 18], backgroundColor: channelColors.tv },
                        { label: 'Digital', data: [30, 25, 20, 28], backgroundColor: channelColors.digital },
                        { label: 'Social', data: [25, 30, 22, 32], backgroundColor: channelColors.social },
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, pointStyle: 'rectRounded' } } },
                    scales: {
                        y: { stacked: true, beginAtZero: true, grid: { color: gridColor }, ticks: { color: tickColor, callback: v => `$${v}k` } },
                        x: { stacked: true, grid: { display: false }, ticks: { color: tickColor } }
                    }
                }
            });

            // --- SHARE OF VOICE CHART ---
            const shareOfVoiceCtx = document.getElementById('shareOfVoiceChart').getContext('2d');
            new Chart(shareOfVoiceCtx, {
                type: 'doughnut',
                data: {
                    labels: ['TV', 'Print', 'Digital', 'Social', 'Radio', 'OOH'],
                    datasets: [{
                        label: 'Share of Voice',
                        data: [35, 15, 25, 15, 5, 5],
                        backgroundColor: Object.values(channelColors),
                        borderColor: isDarkMode ? '#1E293B' : '#FFFFFF',
                        borderWidth: 4,
                        hoverOffset: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '65%',
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, pointStyle: 'rectRounded', padding: 15 } } }
                }
            });

            // --- ENHANCED FILTER FUNCTIONALITY WITH DROPDOWNS ---
            const filterDropdowns = document.querySelectorAll('.filter-dropdown');
            
            filterDropdowns.forEach(dropdown => {
                const button = dropdown.querySelector('.filter-btn');
                const menu = dropdown.querySelector('.dropdown-menu');
                const filterText = dropdown.querySelector('.filter-text');
                const options = menu.querySelectorAll('.dropdown-option');
                
                // Toggle dropdown on button click
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // Close all other dropdowns
                    filterDropdowns.forEach(other => {
                        if (other !== dropdown) {
                            other.querySelector('.dropdown-menu').classList.add('hidden');
                        }
                    });
                    
                    menu.classList.toggle('hidden');
                });
                
                // Handle option selection
                options.forEach(option => {
                    option.addEventListener('click', function(e) {
                        e.stopPropagation();
                        const value = this.dataset.value;
                        filterText.textContent = value;
                        menu.classList.add('hidden');
                        
                        // Show notification about filter change
                        showNotification(`Filter updated: ${dropdown.dataset.filter} = ${value}`, 'info');
                        
                        // Apply filter (you can add actual filtering logic here)
                        applyFilter(dropdown.dataset.filter, value);
                    });
                });
            });
            
            // Close dropdowns when clicking outside
            document.addEventListener('click', function() {
                filterDropdowns.forEach(dropdown => {
                    dropdown.querySelector('.dropdown-menu').classList.add('hidden');
                });
            });
            
            // Reset filters functionality
            const resetFiltersBtn = document.getElementById('reset-filters');
            if (resetFiltersBtn) {
                resetFiltersBtn.addEventListener('click', function() {
                    const defaultValues = {
                        date: 'Last 30 Days',
                        channel: 'All Channels',
                        campaign: 'All Campaigns',
                        region: 'Global',
                        language: 'English',
                        source: 'All Sources'
                    };
                    
                    filterDropdowns.forEach(dropdown => {
                        const filterType = dropdown.dataset.filter;
                        const filterText = dropdown.querySelector('.filter-text');
                        filterText.textContent = defaultValues[filterType] || 'Select...';
                    });
                    
                    showNotification('All filters have been reset', 'success');
                });
            }
            
            // Apply filter function (placeholder for actual filtering logic)
            function applyFilter(filterType, value) {
                console.log(`Applying filter: ${filterType} = ${value}`);
                // Add actual filtering logic here
                // This could update charts, tables, or other data displays
            }

            // --- METRIC BUTTONS ---
            const metricBtns = document.querySelectorAll('.metric-btn');
            metricBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    metricBtns.forEach(b => {
                        b.className = 'rounded-md px-3 py-1 hover:bg-gray-200/60 dark:hover:bg-gray-700/60 transition-all duration-200';
                    });
                    this.className = 'rounded-md px-3 py-1 bg-card-light dark:bg-gray-700 text-primary dark:text-white shadow-sm transition-all duration-200';
                    
                    console.log('Selected metric:', this.dataset.metric);
                });
            });

            // --- ADVANCED ANALYTICS CHARTS ---

            // 4. Sentiment Analysis Over Time (Line Chart)
            const sentimentCtx = document.getElementById("sentimentAnalysisChart").getContext("2d");
            new Chart(sentimentCtx, {
                type: "line",
                data: {
                    labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
                    datasets: [{
                        label: "Positive", data: [65, 59, 80, 81, 56, 72], borderColor: channelColors.digital, tension: 0.3, pointBackgroundColor: channelColors.digital,
                    }, {
                        label: "Negative", data: [28, 48, 40, 19, 36, 18], borderColor: channelColors.radio, tension: 0.3, pointBackgroundColor: channelColors.radio,
                    }, {
                        label: "Neutral", data: [7, 13, 20, 10, 8, 10], borderColor: channelColors.print, tension: 0.3, pointBackgroundColor: channelColors.print,
                    }, ],
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, pointStyle: 'line' } } },
                    scales: {
                        y: { beginAtZero: true, grid: { color: gridColor }, ticks: { color: tickColor, callback: v => `${v}%` } },
                        x: { grid: { display: false }, ticks: { color: tickColor } },
                    },
                },
            });

            // 5. Genre-wise Viewership (Horizontal Bar Chart)
            const genreCtx = document.getElementById("genreViewershipChart").getContext("2d");
            new Chart(genreCtx, {
                type: "bar",
                data: {
                    labels: ["News", "Fiction", "Non-Fiction", "Sports", "Movies"],
                    datasets: [{
                        label: "Viewership (in thousands)",
                        data: [85, 62, 50, 95, 75],
                        backgroundColor: [channelColors.tv, channelColors.social, channelColors.ooh, channelColors.radio, channelColors.digital],
                        borderRadius: 4,
                    }, ],
                },
                options: {
                    indexAxis: 'y', responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { color: gridColor }, ticks: { color: tickColor } },
                        y: { grid: { display: false }, ticks: { color: tickColor } },
                    },
                },
            });

            // 6. Ad Performance (Bubble Chart)
            const adPerformanceCtx = document.getElementById("adPerformanceChart").getContext("2d");
            new Chart(adPerformanceCtx, {
                type: "bubble",
                data: {
                    datasets: [
                        { label: "TV", data: [{ x: 50, y: 70, r: 25 }], backgroundColor: `${channelColors.tv}BF`, borderColor: channelColors.tv }, 
                        { label: "Print", data: [{ x: 30, y: 20, r: 10 }], backgroundColor: `${channelColors.print}BF`, borderColor: channelColors.print }, 
                        { label: "Digital", data: [{ x: 80, y: 60, r: 35 }], backgroundColor: `${channelColors.digital}BF`, borderColor: channelColors.digital }, 
                        { label: "Social", data: [{ x: 90, y: 85, r: 40 }], backgroundColor: `${channelColors.social}BF`, borderColor: channelColors.social },
                        { label: "Radio", data: [{ x: 20, y: 40, r: 15 }], backgroundColor: `${channelColors.radio}BF`, borderColor: channelColors.radio },
                    ],
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, pointStyle: 'rectRounded' } },
                        tooltip: { callbacks: { label: function(c) { return `${c.dataset.label}: (Cost: ${c.parsed.x}, Reach: ${c.parsed.y}, ROI: ${c.raw.r})` } } }
                    },
                    scales: {
                        y: { title: { display: true, text: 'Reach Index' }, grid: { color: gridColor }, ticks: { color: tickColor } },
                        x: { title: { display: true, text: 'Cost Index' }, grid: { color: gridColor }, ticks: { color: tickColor } },
                    },
                },
            });

            // 7. Audience Demographics (Stacked Bar Chart)
            const audienceDemographicsCtx = document.getElementById("audienceDemographicsChart").getContext("2d");
            new Chart(audienceDemographicsCtx, {
                type: 'bar',
                data: {
                    labels: ['18-24', '25-34', '35-44', '45-54', '55+'],
                    datasets: [{
                        label: 'Male', data: [30, 45, 52, 38, 25], backgroundColor: '#3b82f6', borderRadius: 2,
                    }, {
                        label: 'Female', data: [35, 50, 58, 42, 28], backgroundColor: '#ec4899', borderRadius: 2,
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, pointStyle: 'rectRounded' } } },
                    scales: {
                        x: { stacked: true, grid: { display: false }, ticks: { color: tickColor } },
                        y: { stacked: true, grid: { color: gridColor }, ticks: { color: tickColor } }
                    }
                }
            });

            // 8. Predictive Campaign Impact (Line Chart)
            const predictiveModelingCtx = document.getElementById("predictiveModelingChart").getContext("2d");
            new Chart(predictiveModelingCtx, {
                type: 'line',
                data: {
                    labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'],
                    datasets: [{
                        label: 'Predicted Impact', data: [50, 55, 62, 70, 75, 82], borderColor: channelColors.radio, borderDash: [5, 5], tension: 0.2, pointBackgroundColor: channelColors.radio,
                    }, {
                        label: 'Actual Impact', data: [48, 52, 60, 68], borderColor: channelColors.print, tension: 0.2, pointBackgroundColor: channelColors.print,
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, pointStyle: 'line' } } },
                    scales: {
                        y: { beginAtZero: true, grid: { color: gridColor }, ticks: { color: tickColor } },
                        x: { grid: { display: false }, ticks: { color: tickColor } }
                    }
                }
            });

            // --- SMOOTH SCROLL ANIMATIONS ---
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // --- SHARE AND EXPORT FUNCTIONALITY ---
            const shareBtn = document.getElementById('share-btn');
            const exportBtn = document.getElementById('export-btn');
            
            shareBtn.addEventListener('click', function() {
                const currentFilters = getCurrentFilters();
                const shareUrl = generateShareableUrl(currentFilters);
                
                // Copy to clipboard
                navigator.clipboard.writeText(shareUrl).then(() => {
                    showNotification('Dashboard link copied to clipboard!', 'success');
                }).catch(() => {
                    // Fallback for browsers that don't support clipboard API
                    const textArea = document.createElement('textarea');
                    textArea.value = shareUrl;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    showNotification('Dashboard link copied to clipboard!', 'success');
                });
            });
            
            exportBtn.addEventListener('click', function() {
                exportDashboardData();
            });
            
            function getCurrentFilters() {
                const filters = {};
                filterDropdowns.forEach(dropdown => {
                    const filterType = dropdown.dataset.filter;
                    const filterText = dropdown.querySelector('.filter-text');
                    filters[filterType] = filterText.textContent;
                });
                return filters;
            }
            
            function generateShareableUrl(filters) {
                const baseUrl = window.location.href.split('?')[0];
                const params = new URLSearchParams();
                Object.keys(filters).forEach(key => {
                    if (filters[key] !== 'Select...') {
                        params.set(key, filters[key]);
                    }
                });
                return params.toString() ? `${baseUrl}?${params}` : baseUrl;
            }
            
            function exportDashboardData() {
                const filters = getCurrentFilters();
                const data = {
                    timestamp: new Date().toISOString(),
                    filters: filters,
                    metrics: {
                        totalImpressions: '2.8M',
                        totalReach: '1.9M',
                        totalSpend: '$128K',
                        clickRate: '4.7%',
                        conversions: '15.2K',
                        roiMultiple: '5.8x'
                    }
                };
                
                const dataStr = JSON.stringify(data, null, 2);
                const dataBlob = new Blob([dataStr], {type: 'application/json'});
                
                const link = document.createElement('a');
                link.href = URL.createObjectURL(dataBlob);
                link.download = `dashboard-export-${new Date().toISOString().split('T')[0]}.json`;
                link.click();
                
                showNotification('Dashboard data exported successfully!', 'success');
            }
            
            // --- NOTIFICATION SYSTEM ---
            function showNotification(message, type = 'info', duration = 3000) {
                // Remove existing notifications
                const existingNotifications = document.querySelectorAll('.notification');
                existingNotifications.forEach(notification => notification.remove());
                
                const notification = document.createElement('div');
                notification.className = `notification fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 max-w-sm ${
                    type === 'success' ? 'bg-green-500 text-white' :
                    type === 'error' ? 'bg-red-500 text-white' :
                    type === 'warning' ? 'bg-yellow-500 text-black' :
                    'bg-blue-500 text-white'
                }`;
                notification.innerHTML = `
                    <div class="flex items-center gap-3">
                        <span class="material-symbols-outlined text-lg">
                            ${type === 'success' ? 'check_circle' :
                              type === 'error' ? 'error' :
                              type === 'warning' ? 'warning' : 'info'}
                        </span>
                        <span class="text-sm font-medium">${message}</span>
                        <button class="notification-close ml-auto p-1 hover:bg-white/20 rounded">
                            <span class="material-symbols-outlined text-sm">close</span>
                        </button>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                // Animate in
                setTimeout(() => {
                    notification.style.opacity = '1';
                    notification.style.transform = 'translateX(0)';
                }, 100);
                
                // Handle close button
                const closeBtn = notification.querySelector('.notification-close');
                closeBtn.addEventListener('click', () => {
                    hideNotification(notification);
                });
                
                // Auto-hide after duration
                setTimeout(() => {
                    hideNotification(notification);
                }, duration);
            }
            
            function hideNotification(notification) {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, 300);
            }
            
            // Add CSS for notification animations
            const notificationStyles = document.createElement('style');
            notificationStyles.textContent = `
                .notification {
                    opacity: 0;
                    transform: translateX(100%);
                    box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
                }
                .notification-close:hover {
                    background-color: rgba(255, 255, 255, 0.2);
                    border-radius: 4px;
                }
            `;
            document.head.appendChild(notificationStyles);
            
            // Observe all containers
            document.querySelectorAll('.chart-container, .metric-card').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(el);
            });
        });
    </script>
</body>
</html>